<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Invitaci√≥n Cena Rom√°ntica</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: 'Georgia', serif;
      background: linear-gradient(to right, #2c3e50, #4ca1af);
      color: #fff;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      text-align: center;
      overflow: hidden;
      transition: background 2s ease-in-out;
    }

    .card {
      background: rgba(0, 0, 0, 0.75);
      padding: 30px;
      border-radius: 20px;
      box-shadow: 0 0 20px rgba(255, 192, 203, 0.5);
      animation: fadeIn 1.5s ease-in-out;
      max-width: 90%;
      transition: opacity 1s ease-in-out;
    }

    h1 {
      font-size: 1.8em;
      margin-bottom: 10px;
      color: #ffb6c1;
    }

    p {
      font-size: 1em;
      margin: 8px 0;
    }

    .button {
      background: #ff4d6d;
      border: none;
      color: white;
      padding: 12px 25px;
      margin-top: 20px;
      border-radius: 30px;
      cursor: pointer;
      font-size: 1em;
      transition: transform 0.3s, background 0.3s;
      display: inline-block;
    }

    .button:hover {
      transform: scale(1.1);
      background: #e63950;
    }

    #respuesta {
      margin-top: 15px;
      font-weight: bold;
      color: #ffd1dc;
    }

    @keyframes fadeIn {
      from {opacity: 0; transform: scale(0.9);}
      to {opacity: 1; transform: scale(1);}
    }

    /* Cuenta regresiva */
    #contador {
      font-size: 3em;
      color: #ffb6c1;
      display: none;
      animation: fadeIn 1s ease-in-out;
    }

    /* Galer√≠a de fotos */
    .foto-final {
      display: none;
      max-width: 80%;
      max-height: 80vh;
      border-radius: 20px;
      box-shadow: 0 0 25px rgba(255,255,255,0.6);
      animation: fadeIn 2s ease-in-out;
    }

    /* --- Fuegos artificiales: puntos grandes --- */
    .firework-dot {
      position: absolute;
      width: 6px;
      height: 6px;
      background: #ff4d6d;
      border-radius: 50%;
      animation: explodeDot 1.2s ease-out forwards;
    }

    @keyframes explodeDot {
      from { transform: scale(1); opacity: 1; }
      to { transform: scale(15); opacity: 0; }
    }

    /* --- Fuegos artificiales: chispas de colores --- */
    .firework {
      position: absolute;
      width: 4px;
      height: 4px;
      background: transparent;
      border-radius: 50%;
      animation: explode 1.5s ease-out forwards;
    }

    .particle {
      position: absolute;
      width: 4px;
      height: 4px;
      border-radius: 50%;
      opacity: 0.8;
      animation: particle-move 1.5s ease-out forwards;
    }

    @keyframes explode {
      from { transform: scale(0.2); opacity: 1; }
      to { transform: scale(1); opacity: 0; }
    }

    @keyframes particle-move {
      from { transform: translate(0,0) scale(1); opacity: 1; }
      to { transform: translate(var(--x), var(--y)) scale(0.5); opacity: 0; }
    }

    /* Poema */
    #poema {
      display: none;
      font-size: 1.2em;
      margin-top: 20px;
      color: #ffd1dc;
      white-space: pre-line;
    }
  </style>
</head>
<body>
  <!-- Tarjeta de invitaci√≥n -->
  <div class="card" id="invitacion">
    <h1>üíñ Cena de cumplea√±os üíñ</h1>
    <p id="texto"></p>
    <p>üìÖ Fecha: 09 de septiembre<br>
       üïñ Hora: 6:30 PM<br>
       üìç Lugar recogida: Tu casa</p>
    <button class="button" onclick="confirmar()">Confirmar asistencia</button>
    <p id="respuesta"></p>
  </div>

  <!-- Contador -->
  <div id="contador"></div>

  <!-- Galer√≠a de fotos -->
  <img src="foto1.jpg" alt="Foto rom√°ntica" class="foto-final" id="fotoFinal">

  <!-- Poema -->
  <p id="poema"></p>

  <!-- M√∫sica de fondo -->
  <audio id="musica" loop>
    <source src="musica.mp3" type="audio/mpeg">
    Tu navegador no soporta audio.
  </audio>

  <script>
    // --- Efecto m√°quina de escribir con frase larga ---
    const mensaje = "Hoy celebro tu vida y la suerte de tenerte a mi lado. Quiero invitarte a una cena rom√°ntica de cumplea√±os, donde el amor ser√° nuestro mejor brindis.";
    let i = 0;
    function escribirTexto() {
      if (i < mensaje.length) {
        document.getElementById("texto").innerHTML += mensaje.charAt(i);
        i++;
        setTimeout(escribirTexto, 60);
      }
    }
    escribirTexto();

    // --- Confirmaci√≥n ---
    function confirmar() {
      document.getElementById("respuesta").innerText = "¬°Gracias mi amor! üíï Me haces muy feliz.";
      const musica = document.getElementById("musica");
      musica.play();

      // Ocultar invitaci√≥n y mostrar contador
      document.getElementById("invitacion").style.display = "none";
      const contador = document.getElementById("contador");
      contador.style.display = "block";

      let tiempo = 5;
      contador.innerText = tiempo;

      const interval = setInterval(() => {
        tiempo--;
        contador.innerText = tiempo;

        // Cambiar fondo en cada n√∫mero
        document.body.style.background = 
          tiempo % 2 === 0 ? "linear-gradient(to right, #000000, #434343)" 
                           : "linear-gradient(to right, #4a148c, #880e4f)";

        if (tiempo === 0) {
          clearInterval(interval);
          contador.style.display = "none";
          lanzarFuegos();
          setTimeout(mostrarGaleria, 2500); // mostrar fotos tras los fuegos
        }
      }, 1000);
    }

    // --- Lanzar fuegos artificiales ---
    function lanzarFuegos() {
      for (let i = 0; i < 5; i++) { 
        setTimeout(() => {
          const x = Math.random() * window.innerWidth;
          const y = Math.random() * window.innerHeight * 0.7;
          crearFuegoDot(x, y);   // puntos grandes
          crearFuego(x, y);      // chispas coloridas
        }, i * 600);
      }
    }

    // --- Fuegos artificiales: puntos grandes ---
    function crearFuegoDot(x, y) {
      const fireworkDot = document.createElement("div");
      fireworkDot.className = "firework-dot";
      fireworkDot.style.left = x + "px";
      fireworkDot.style.top = y + "px";
      document.body.appendChild(fireworkDot);

      setTimeout(() => fireworkDot.remove(), 1200);
    }

    // --- Fuegos artificiales: chispas coloridas ---
    function crearFuego(x, y) {
      const colores = ["#ff4d6d", "#ffcc00", "#00c3ff", "#9b59b6", "#00ff99"];
      const firework = document.createElement("div");
      firework.className = "firework";
      firework.style.left = x + "px";
      firework.style.top = y + "px";
      document.body.appendChild(firework);

      for (let i = 0; i < 25; i++) {
        const particle = document.createElement("div");
        particle.className = "particle";
        particle.style.background = colores[Math.floor(Math.random() * colores.length)];

        const angle = Math.random() * 2 * Math.PI;
        const radius = 80 + Math.random() * 40;
        const xMove = Math.cos(angle) * radius + "px";
        const yMove = Math.sin(angle) * radius + "px";

        particle.style.setProperty("--x", xMove);
        particle.style.setProperty("--y", yMove);

        firework.appendChild(particle);

        setTimeout(() => particle.remove(), 1500);
      }

      setTimeout(() => firework.remove(), 1500);
    }

    // --- Galer√≠a de fotos autom√°tica ---
    const fotos = ["foto1.jpg", "foto2.jpg", "foto3.jpg", "foto4.jpg", "foto5.jpg", "foto6.jpg", "foto7.jpg"];
    let index = 0;

    function mostrarGaleria() {
      const foto = document.getElementById("fotoFinal");
      foto.style.display = "block";
      foto.src = fotos[index];

      const galeria = setInterval(() => {
        index++;
        if (index < fotos.length) {
          foto.src = fotos[index];
        } else {
          clearInterval(galeria);
          foto.style.display = "none";
          mostrarPoema();
        }
      }, 4000);
    }

    // --- Poema final (dedicatoria) ---
    const poemaTexto = "Hola, mi solecito ‚òÄÔ∏èüíõ\n\nHoy celebramos un a√±o m√°s de tu vida y quiero festejarlo contigo, porque deseo que este d√≠a se convierta en uno de los muchos momentos especiales que compartiremos.\nDoy gracias por tenerte en mi vida y por todo lo que significas para m√≠. Hoy es la ocasi√≥n perfecta para recordarte lo especial que eres y lo mucho que mereces todas las cosas maravillosas que la vida tiene para darte.\n\nGracias por ser mi todo.\nTe amo ü§ù";
    let j = 0;

    function mostrarPoema() {
      const poema = document.getElementById("poema");
      poema.style.display = "block";
      function escribirPoema() {
        if (j < poemaTexto.length) {
          poema.innerHTML += poemaTexto.charAt(j);
          j++;
          setTimeout(escribirPoema, 70);
        }
      }
      escribirPoema();
    }
  </script>
</body>
</html>

